"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[47],{47:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var s=n(43),a=n(579);const o=function(t){let{assignment:e,onAction:n}=t;const[o,i]=(0,s.useState)(!1),[r,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),u=async t=>{i(!0),l("");try{if(!(await fetch(`/api/assignments/${e.id}/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t,manager_comment:"REJECTED"===t?c:void 0})})).ok)throw new Error("Failed to update status");d(""),n&&n()}catch(s){l(s.message||"Error")}finally{i(!1)}};return(0,a.jsxs)("div",{style:{marginTop:8},children:[(0,a.jsx)("button",{onClick:()=>u("APPROVED"),disabled:o||"SUBMITTED"!==e.status,children:"Approve"}),(0,a.jsx)("button",{onClick:()=>u("REJECTED"),disabled:o||"SUBMITTED"!==e.status,children:"Reject"}),"SUBMITTED"===e.status&&(0,a.jsx)("input",{type:"text",placeholder:"Rejection reason (optional)",value:c,onChange:t=>d(t.target.value),style:{marginLeft:8}}),r&&(0,a.jsx)("div",{style:{color:"red"},children:r})]})}}}]);
//# sourceMappingURL=47.0da989f4.chunk.js.map