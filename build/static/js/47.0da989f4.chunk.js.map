{"version":3,"file":"static/js/47.0da989f4.chunk.js","mappings":"mJAuDA,QAnDA,SAAiCA,GAA4B,IAA3B,WAAEC,EAAU,SAAEC,GAAUF,EACxD,MAAOG,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,KAC5BG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,IAEjCK,EAAeC,UACnBP,GAAW,GACXG,EAAS,IACT,IASE,WARkBK,MAAM,oBAAaX,EAAWY,MAAO,CACrDC,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBC,SACAC,gBAA4B,aAAXD,EAAwBX,OAAUa,OAG9CC,GAAI,MAAM,IAAIC,MAAM,2BAC7Bd,EAAW,IACPP,GAAUA,GAChB,CAAE,MAAOsB,GACPjB,EAASiB,EAAIC,SAAW,QAC1B,CAAC,QACCrB,GAAW,EACb,GAGF,OACEsB,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEC,UAAW,GAAIC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAMrB,EAAa,YAClCsB,SAAU7B,GAAiC,cAAtBF,EAAWkB,OAAuBU,SAAC,aAG1DC,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAMrB,EAAa,YAClCsB,SAAU7B,GAAiC,cAAtBF,EAAWkB,OAAuBU,SAAC,WAGnC,cAAtB5B,EAAWkB,SACVW,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLC,YAAY,8BACZC,MAAO3B,EACP4B,SAAUC,GAAK5B,EAAW4B,EAAEC,OAAOH,OACnCR,MAAO,CAAEY,WAAY,KAGxBjC,IAASwB,EAAAA,EAAAA,KAAA,OAAKH,MAAO,CAAEa,MAAO,OAAQX,SAAEvB,MAG/C,C","sources":["entities/AssignmentManagerActions.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst API_URL = \"/api/assignments/\";\r\n\r\nfunction AssignmentManagerActions({ assignment, onAction }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const handleAction = async (status) => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const res = await fetch(`${API_URL}${assignment.id}/`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          status,\r\n          manager_comment: status === \"REJECTED\" ? comment : undefined,\r\n        }),\r\n      });\r\n      if (!res.ok) throw new Error(\"Failed to update status\");\r\n      setComment(\"\");\r\n      if (onAction) onAction();\r\n    } catch (err) {\r\n      setError(err.message || \"Error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: 8 }}>\r\n      <button onClick={() => handleAction(\"APPROVED\")}\r\n        disabled={loading || assignment.status !== \"SUBMITTED\"}>\r\n        Approve\r\n      </button>\r\n      <button onClick={() => handleAction(\"REJECTED\")}\r\n        disabled={loading || assignment.status !== \"SUBMITTED\"}>\r\n        Reject\r\n      </button>\r\n      {assignment.status === \"SUBMITTED\" && (\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Rejection reason (optional)\"\r\n          value={comment}\r\n          onChange={e => setComment(e.target.value)}\r\n          style={{ marginLeft: 8 }}\r\n        />\r\n      )}\r\n      {error && <div style={{ color: \"red\" }}>{error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AssignmentManagerActions;\r\n"],"names":["_ref","assignment","onAction","loading","setLoading","useState","error","setError","comment","setComment","handleAction","async","fetch","id","method","headers","body","JSON","stringify","status","manager_comment","undefined","ok","Error","err","message","_jsxs","style","marginTop","children","_jsx","onClick","disabled","type","placeholder","value","onChange","e","target","marginLeft","color"],"sourceRoot":""}